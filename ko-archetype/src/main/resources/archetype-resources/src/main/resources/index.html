<?xml version="1.0" encoding="UTF-8"?>

<!--
    Copied from knockout.js Twitter example:
    http://knockoutjs.com/examples/twitter.html
-->

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Bck2Brwsr's Twitter</title>
    </head>
    <body>
        <link href='twitterExample.css' rel='Stylesheet' ></link>
        
        <style type='text/css'>
           .liveExample select { height: 1.7em; }
           .liveExample button { height: 2em; }
        </style>
        
        
        <h2>Bck2Brwsr's Twitter</h2>
        
        <p>
        This code is based on original 
        <a href="http://knockoutjs.com/examples/twitter.html">knockout.js
        Twitter example</a> and
        uses almost unmodified HTML page. It just changes the model. The model
        is written in Java language.The Java source code has about 190 lines 
        - in fact it may even be more dense than the original JavaScript model.
        </p>
        <p>
        The project has two profiles. Either it executes in real Java virtual
        machine and renders using JavaFX's WebView (use <code>fxbrwsr</code> profile
        - the default). It can also run directly in a browser via
        <a href="http://bck2brwsr.apidesign.org">Bck2Brwsr</a> virtual machine
        (use <code>bck2brwsr</code> profile).
        </p>
        
        <div class='liveExample'>
            <div class='configuration'>
                <div class='listChooser'>
                    <button data-bind='click: deleteList, enable: activeTweetersName'>Delete</button>
                    <button data-bind='click: saveChanges, enable: hasUnsavedChanges'>Save</button> 
                    <select data-bind='options: savedLists, optionsValue: "name", value: activeTweetersName'> </select>
                </div>

                <p>Currently viewing <span data-bind='text: activeTweetersCount'> </span> user(s):</p>
                <div class='currentUsers' >
                    <ul data-bind='foreach: activeTweeters'>
                        <li>
                            <button data-bind='click: $root.removeUser'>Remove</button>
                            <div data-bind='text: $data'> </div>
                        </li>
                    </ul>
                </div>

                <form data-bind='submit: addUser'>
                    <label>Add user:</label>
                    <input data-bind='value: userNameToAdd, valueUpdate: "keyup", css: { invalid: !userNameToAddIsValid() }' />
                    <button data-bind='enable: userNameToAddIsValid' type='submit'>Add</button>
                </form>
            </div>
            <div class='tweets'>
                <div class='loadingIndicator'>Loading...</div>
                <table data-bind='foreach: currentTweets' width='100%'>
                    <tr>
                        <td><img data-bind='attr: { src: profile_image_url }' /></td>
                        <td>
                            <a class='twitterUser' data-bind='attr: { href: userUrl }, text: from_user'> </a>
                            <span data-bind='html: html'> </span>
                            <div class='tweetInfo' data-bind='text: created_at'> </div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
        
        <script src="bck2brwsr.js"></script>
        <script type="text/javascript">
            var vm = bck2brwsr('${artifactId}-${version}.jar');
            vm.loadClass('${package}.TwitterClient');
        </script>


    </body>
</html>
